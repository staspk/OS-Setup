#!/bin/bash

KOZUBENKO=(
    setup_python_project,
    setup_ubuntu
)

declare -A ENV

BOILERPLATE_PYTHON_PROJECT="$HOME/boilerplate/python_minimum_vscode_setup"

# setup_python_project(
#   $path -> defaults to $pwd
# )
setup_python_project() {
    local path="${1:-$PWD}"

    if [ ! -d "$path" ]; then
        print_red "given path not a real directory: $path"
        return 1
    fi

    cd $path

    python3 -m venv .venv

    source .venv/bin/activate

    python -m pip install --upgrade pip

    cp -r "$BOILERPLATE_PYTHON_PROJECT/"* "$path/"

    # clear
}

setStartLocation() {
    local path="${1:-$PWD}"

    if [ ! -d "$path" ]; then
        print_red "given path not a real directory: $path"
        return 1
    fi

    while IFS='=' read -r key value; do
        echo "Key: $key"
        echo "Value: $value"
    done < $HOME/.bash/.env
}

activate() {
    if [ -f "./.venv/bin/activate" ]; then
        source .venv/bin/activate
    fi
}

setup_ubuntu() {
    cp -r "$HOME/OS-Setup/Ubuntu/boilerplate" "$HOME/boilerplate"

    sudo apt update -y
    sudo apt install -y python3-pip
    sudo apt install -y python3-venv
}

onStart() {
    source $HOME/.bash/.env
}